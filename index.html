<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>OMNIFIT V15.1</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:-apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  background:transparent;
}

/* WIDGET WRAPPER — FINAL HEIGHT 600PX */
#omnifitWidget {
  width:100%;
  max-width:315px;
  height:600px;
  margin:0 auto;
  position:relative;
  overflow:hidden;
  border-radius:22px;
}

/* NEBULA BACKGROUND */
.nebula {
  position:absolute;
  inset:0;
  background:
    radial-gradient(at 20% 30%, rgba(155,255,210,0.22), transparent 60%),
    radial-gradient(at 80% 65%, rgba(255,180,120,0.18), transparent 70%),
    radial-gradient(at 50% 90%, rgba(120,180,255,0.16), transparent 75%);
  animation:nebulaGlow 14s ease-in-out infinite alternate;
  z-index:-1;
}
@keyframes nebulaGlow {
  0% { filter:brightness(1.1); }
  100% { filter:brightness(1.25); }
}

/* TILE GRID */
.tiles {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  padding:16px 10px 0;
  position:relative;
  z-index:10;
}

.tile {
  padding:14px;
  border-radius:14px;
  background:rgba(255,255,255,0.75);
  backdrop-filter:blur(12px);
  text-align:center;
  font-weight:500;
  font-size:0.95rem;
  cursor:pointer;
  color:#1d1d1d;
  transition:transform .2s ease, opacity .25s ease;
  position:relative;
  overflow:hidden;
}

.tile:hover { transform:scale(1.03); }
.tile.active { opacity:1; }
.tiles:not(:hover) .tile:not(.active) { opacity:0.78; }

/* Active tile colors */
.tile.active[data-motive="Educational"] { background:#E6F0D8; color:#245C2A; }
.tile.active[data-motive="Playful"]    { background:#FFF2D5; color:#A96300; }
.tile.active[data-motive="Direct"]     { background:#E3F2FD; color:#0F4C9A; }
.tile.active[data-motive="Identity"]   { background:#FCE8E0; color:#9A3D21; }

/* CARD — MEDIUM SIZE, CENTERED */
.card {
  position:absolute;
  top:260px; /* UPDATED FOR BETTER BALANCE */
  left:50%;
  transform:translateX(-50%) scale(.96);
  width:85%;
  background:rgba(240,250,235,0.28);
  backdrop-filter:blur(24px);
  -webkit-backdrop-filter:blur(24px);
  padding:20px;
  border-radius:18px;
  color:white;
  box-shadow:0 12px 28px rgba(0,0,0,0.22);
  transition:transform .35s cubic-bezier(.25,.8,.25,1);
  z-index:20;
}

.card.breathing {
  animation:breathe 6s ease-in-out infinite;
}
@keyframes breathe {
  0%   { transform:translateX(-50%) scale(.96); }
  50%  { transform:translateX(-50%) scale(1.00); }
  100% { transform:translateX(-50%) scale(.96); }
}

.pulse {
  animation:pulseSelect .32s ease-out;
}
@keyframes pulseSelect {
  0% { transform:translateX(-50%) scale(0.97); }
 100% { transform:translateX(-50%) scale(.96); }
}

.card h1 { font-size:1.15rem; margin-bottom:4px; }
.card h2 { font-size:0.9rem; opacity:0.9; }
.card .motive-tag { margin-top:8px; font-size:1rem; }

#cardIcon {
  width:28px;
  height:28px;
  margin-bottom:12px;
  opacity:0.95;
}
#cardIcon path, #cardIcon circle { stroke:white; }

/* HEATMAP — GLASS PILLS */
.heatmapRow {
  display:flex;
  justify-content:center;
  gap:8px;
  margin-top:360px; /* Now balanced inside 600px layout */
}

.pill {
  width:18px;
  height:18px;
  border-radius:50%;
  backdrop-filter:blur(14px);
  background:rgba(255,255,255,0.22);
  border:1px solid rgba(255,255,255,0.38);
  box-shadow:0 2px 6px rgba(0,0,0,0.15);
  transition:transform .25s ease;
}

.pill.level-0 { background:rgba(255,255,255,0.22); }
.pill.level-1 { background:rgba(220,240,210,0.32); }
.pill.level-2 { background:rgba(180,220,165,0.38); }
.pill.level-3 { background:rgba(150,190,135,0.48); }

/* Today pill pulse */
.pill.today {
  animation:pillPulse 2.8s ease-in-out infinite;
}
@keyframes pillPulse {
  0% { transform:scale(1); box-shadow:0 0 0 rgba(255,255,255,0.5); }
 50% { transform:scale(1.18); box-shadow:0 0 12px rgba(255,255,255,
