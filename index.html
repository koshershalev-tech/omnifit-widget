<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>OMNIFIT V14.2 â€” Static Widget</title>

<style>
/* ===========================================================
   RESET
=========================================================== */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:-apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  background:transparent;
}

/* ===========================================================
   WRAPPER â€” FIXED STATIC WIDGET (400PX)
=========================================================== */
#omnifitWidget {
  width:100%;
  max-width:315px;
  height:400px;
  margin:0 auto;
  position:relative;
  overflow:hidden;
}

/* ===========================================================
   BACKGROUND NEBULA
=========================================================== */
.nebula {
  position:absolute;
  inset:0;
  z-index:-1;
  background:
    radial-gradient(at 20% 30%, rgba(155,255,210,0.22), transparent 62%),
    radial-gradient(at 80% 65%, rgba(255,180,120,0.18), transparent 70%),
    radial-gradient(at 50% 90%, rgba(120,180,255,0.16), transparent 75%);
  animation:nebulaGlow 14s ease-in-out infinite alternate;
}
@keyframes nebulaGlow {
  0%   { filter:brightness(1.1); }
  100% { filter:brightness(1.25); }
}

/* ===========================================================
   MOTIVATION TILES (TOP)
=========================================================== */
.tiles {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  padding:16px 10px 0;
  position:relative;
  z-index:10;
}

.tile {
  padding:12px;
  border-radius:14px;
  background:rgba(255,255,255,0.75);
  backdrop-filter:blur(14px);
  font-size:0.95rem;
  font-weight:500;
  text-align:center;
  cursor:pointer;
  color:#1d1d1d;
  transition:transform .2s ease, opacity .25s ease;
  position:relative;
  overflow:hidden;
}

.tile:hover { transform:scale(1.03); }
.tile.active { opacity:1; }

.tiles:not(:hover) .tile:not(.active) {
  opacity:0.80;
}

/* Active colors */
.tile.active[data-motive="Educational"] { background:#E6F0D8; color:#245C2A; }
.tile.active[data-motive="Playful"]    { background:#FFF2D5; color:#A96300; }
.tile.active[data-motive="Direct"]     { background:#E3F2FD; color:#0F4C9A; }
.tile.active[data-motive="Identity"]   { background:#FCE8E0; color:#9A3D21; }

/* ===========================================================
   LIVING CARD â€” CENTER HERO
=========================================================== */
.card {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%) scale(.96);
  width:90%;

  background:rgba(230,240,216,0.28);
  backdrop-filter:blur(24px);
  -webkit-backdrop-filter:blur(24px);

  padding:20px;
  border-radius:18px;
  text-align:left;
  color:white;

  box-shadow:0 12px 32px rgba(0,0,0,0.22);

  transition:
    background .35s ease,
    box-shadow .35s ease,
    transform .35s cubic-bezier(.25,.8,.25,1);

  z-index:20;
}

/* Breathing animation */
.card.breathing {
  animation:breathe 6s ease-in-out infinite;
}
@keyframes breathe {
  0%   { transform:translate(-50%,-50%) scale(.96); }
  50%  { transform:translate(-50%,-50%) scale(1.00); }
  100% { transform:translate(-50%,-50%) scale(.96); }
}

/* Pulse animation when tile âš¡ updates the card */
.pulse {
  animation:pulseSelect 0.32s ease-out;
}
@keyframes pulseSelect {
  0%   { transform:translate(-50%,-50%) scale(0.97); }
  100% { transform:translate(-50%,-50%) scale(.96); }
}

/* Card content */
.card h1 { font-size:1.15rem; margin-bottom:4px; }
.card h2 { font-size:0.9rem; opacity:0.9; }
.card .motive-tag { margin-top:8px; font-size:1rem; opacity:0.95; }

/* Card icon */
#cardIcon {
  width:28px;
  height:28px;
  margin-bottom:10px;
  opacity:0.95;
}
#cardIcon path, 
#cardIcon circle {
  stroke:white;
}

/* ===========================================================
   BOTTOM SHEET
=========================================================== */
#dimOverlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.40);
  opacity:0;
  pointer-events:none;
  transition:opacity .3s ease;
  z-index:30;
}

#motivePanel {
  position:fixed;
  bottom:-100%;
  left:0;
  width:100%;
  height:65%;
  background:rgba(255,255,255,0.25);
  backdrop-filter:blur(28px);
  border-radius:24px 24px 0 0;
  color:white;
  padding:26px;
  transition:bottom .45s ease;
  z-index:50;
}
#motivePanel.open { bottom:0; }

#closePanel {
  position:absolute;
  top:12px;
  right:18px;
  font-size:32px;
  opacity:0.7;
  cursor:pointer;
}

/* ===========================================================
   RIPPLE + PRESS
=========================================================== */
.ripple-container {
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}
.ripple {
  position:absolute;
  width:20px;
  height:20px;
  background:rgba(255,255,255,0.35);
  border-radius:50%;
  transform:scale(0);
  animation:rippleExpand .45s ease-out forwards;
}
@keyframes rippleExpand {
  to { transform:scale(8); opacity:0; }
}
.press {
  transform:scale(.94);
  transition:transform .08s ease;
}
</style>
</head>

<body>
<div id="omnifitWidget">

  <div class="nebula"></div>
  <div id="dimOverlay"></div>

  <!-- ========================================= -->
  <!-- TILES                                     -->
  <!-- ========================================= -->
  <div class="tiles" id="tiles">
    <div class="tile" data-motive="Educational">Educational</div>
    <div class="tile" data-motive="Playful">Playful</div>
    <div class="tile" data-motive="Direct">Direct</div>
    <div class="tile" data-motive="Identity">Identity</div>
  </div>

  <!-- ========================================= -->
  <!-- LIVING CARD (CENTERED HERO)               -->
  <!-- ========================================= -->
  <div class="card breathing" id="exerciseCard">
    <svg id="cardIcon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.7"></svg>
    <h1>Micro Exercise</h1>
    <h2>Day 558 | Forge ðŸ”¥</h2>
    <div class="motive-tag" id="motiveLabel">Educational</div>
  </div>

  <!-- ========================================= -->
  <!-- BOTTOM SHEET                              -->
  <!-- ========================================= -->
  <div id="motivePanel">
    <div id="closePanel">Ã—</div>
    <div id="panelContent"></div>
  </div>

</div><!-- END -->

<script>
/* ===========================================================
   ICONS + TEXT
=========================================================== */
const icons = {
  Educational:`<path d="M12 3v18"/><path d="M8 7h8"/><path d="M10 12h4"/>`,
  Playful:`<path d="M12 4l1 3 3 1-3 1-1 3-1-3-3-1 3-1z"/>`,
  Direct:`<path d="M5 12h14"/><path d="M13 8l6 4-6 4"/>`,
  Identity:`<circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2.2"/>`
};

const descriptions = {
  Educational:"Clear reasoning and practical science behind todayâ€™s exercise.",
  Playful:"Lightness and fun energy to make training enjoyable.",
  Direct:"Straightforward guidance â€” simple, effective, to the point.",
  Identity:"A reminder of who you're becoming through consistency."
};

/* ===========================================================
   ELEMENTS
=========================================================== */
const tiles=document.querySelectorAll('.tile');
const card=document.getElementById('exerciseCard');
const motiveLabel=document.getElementById('motiveLabel');
const cardIcon=document.getElementById('cardIcon');
const dimOverlay=document.getElementById('dimOverlay');
const panel=document.getElementById('motivePanel');
const panelContent=document.getElementById('panelContent');

/* ===========================================================
   TILE â†’ UPDATE CARD + OPEN PANEL
=========================================================== */
tiles.forEach(tile=>{
  tile.addEventListener('click',()=>{
    const m=tile.dataset.motive;

    motiveLabel.textContent=m;
    cardIcon.innerHTML=icons[m];

    /* Pulse animation */
    card.classList.remove("pulse");
    void card.offsetWidth;
    card.classList.add("pulse");

    /* Activate tile */
    tiles.forEach(t=>t.classList.remove('active'));
    tile.classList.add('active');

    /* Prepare panel content */
    panelContent.innerHTML=`
      <svg viewBox="0 0 24 24" stroke="white" fill="none" stroke-width="1.7">${icons[m]}</svg>
      <h3 style="margin-top:14px">${m}</h3>
      <p style="margin-top:6px; font-size:1rem; opacity:0.9">${descriptions[m]}</p>
    `;

    /* Open panel */
    panel.classList.add("open");
    dimOverlay.style.opacity="1";
    dimOverlay.style.pointerEvents="auto";
  });
});

/* CLOSE PANEL */
document.getElementById('closePanel').onclick=closePanel;
dimOverlay.onclick=closePanel;

function closePanel(){
  panel.classList.remove("open");
  dimOverlay.style.opacity="0";
  dimOverlay.style.pointerEvents="none";
}

/* ===========================================================
   RIPPLE EFFECT
=========================================================== */
function attachRipples(){
  document.querySelectorAll('.tile').forEach(el=>{
    const rc=document.createElement('div');
    rc.className='ripple-container';
    el.appendChild(rc);

    el.addEventListener('pointerdown',e=>{
      el.classList.add('press');
      createRipple(e,rc);
    });
    el.addEventListener('pointerup',()=>el.classList.remove('press'));
    el.addEventListener('pointerleave',()=>el.classList.remove('press'));
  });
}
attachRipples();

function createRipple(e,container){
  const r=document.createElement('div');
  r.className='ripple';
  const rect=container.getBoundingClientRect();
  r.style.left=(e.clientX-rect.left-10)+"px";
  r.style.top=(e.clientY-rect.top-10)+"px";
  container.appendChild(r);
  setTimeout(()=>r.remove(),450);
}
</script>

</body>
</html>
